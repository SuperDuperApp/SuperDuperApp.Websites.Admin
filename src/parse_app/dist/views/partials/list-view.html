<div class="page-header"> <h1>{{title}} <small><i class="fa fa-cloud-download" ng-show="loading"></i></small></h1> </div> <input type="search" class="form-control" placeholder="Search" ng-change="searchInputChange()" ng-model="searchStr"> <div infinite-scroll="loadMore()" infinite-scroll-distance="3"> <table class="table table-striped table-hover"> <thead> <tr> <td ng-repeat="col in columns" ng-if="!col.hidden" ng-click="columnHeaderClick(col)" style="text-align: left"><button style="padding-left: 0px" type="button" class="btn btn-link pull-left">{{col.label}}</button> <td ng-repeat="btn in itemButtons"> <!--
      <td></td>
      --> <td><button type="button" class="btn btn-success pull-right" ng-click="addButtonClick()">Add</button>   <tbody> <tr ng-repeat="row in rows track by row.id" ng-show="row.show"> <td ng-repeat="col in columns" ng-if="!col.hidden"> <div ng-switch="col.inputType"> <div ng-switch-when="image"> <img ng-src="{{row[col.key]}}" class="photo"> </div> <div ng-switch-when="swatch"> <div ng-style="{'background-color' : row[col.key]}" style="width: 25px; height: 25px"></div> </div> <div ng-switch-default> {{row[col.key]}} </div> </div>  <td ng-repeat="btn in itemButtons"> <button type="button" class="btn {{btn.cls}} pull-right" ng-click="btn.action(row)">{{btn.label}}</button>  <!--
      <td>
        <button type="button" class="btn btn-default pull-right" ng-click="viewButtonClick(row)">View</button>
      </td>
      --> <td> <button type="button" class="btn btn-warning pull-right" ng-click="editButtonClick(row)">Edit</button>    </table> </div> <div class="modal fade add-modal" data-backdrop="static" data-keyboard="false"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="addCloseButtonClick()"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button> <h4 class="modal-title">Add</h4> </div> <div class="modal-body" style="height: 600px; overflow: auto"> <form role="form" ng-show="!showChoice"> <div class="form-group" ng-repeat="col in columns"> <div ng-switch="col.inputType"> <div ng-switch-when="choice"> <label for="{{col.key}}">{{col.label}} : <span style="color: #aabbcc">{{col.value}}</span></label> <button class="btn btn-primary pull-right" ng-click="chooseButtonClick(col, col.collection)">Choose</button> </div> <div ng-switch-when="text"> <label for="{{col.key}}" ng-show="{{col.label.length}} > 0">{{col.label}}</label> <input type="text" class="form-control" name="{{col.key}}" placeholder="Enter {{col.name}}" ng-model="col.value"> </div> <div ng-switch-when="textarea"> <label for="{{col.key}}">{{col.label}}</label> <textarea class="form-control" name="{{col.key}}" ng-model="col.value"></textarea> </div> <div ng-switch-when="image"> <label for="{{col.key}}">{{col.label}}</label> <input type="file" class="form-control" name="{{col.key}}" file-read="col.value"> </div> <div ng-switch-when="number"> <label for="{{col.key}}">{{col.label}}</label> <input type="number" class="form-control" name="{{col.key}}" placeholder="Enter {{col.name}}" ng-model="col.value"> </div> <div ng-switch-when="checkbox"> <label class="checkbox-inline"> <input type="checkbox" name="{{col.key}}" ng-model="col.value"> {{col.label}} </label> </div> <div ng-switch-when="rel"> <label for="{{col.key}}">{{col.label}}</label> <select class="form-control" name="{{col.key}}" ng-model="col.value" ng-options="item.id as item.name for item in col.collection"></select> </div> </div> </div> </form> <div ng-show="showChoice"> <input type="search" class="form-control" placeholder="Search" ng-change="choiceSearchInputChange()" ng-model="choiceSearchStr"> <table class="table table-striped table-hover"> <thead> <tr> <td ng-repeat="choiceCol in choiceColumns" ng-click="choiceColumnHeaderClick(choiceCol)" style="text-align: left"><button style="padding-left: 0px" type="button" class="btn btn-link pull-left">{{choiceCol.label}}</button> <td>   <tbody> <tr ng-repeat="choiceRow in choiceRows" ng-show="choiceRow.show"> <td ng-repeat="choiceCol in choiceColumns">{{choiceRow[choiceCol.key]}} <td> <button type="button" class="btn pull-right" ng-class="choiceRow.selected ? 'btn-success' : 'btn-warning'" ng-click="selectButtonClick(choiceRow)">{{(choiceRow.selected) ? 'Selected' : 'Select'}}</button>    </table> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-primary" ng-click="saveButtonClick()" ng-show="!showChoice">Save</button> </div> </div><!-- /.modal-content --> </div><!-- /.modal-dialog --> </div><!-- /.modal --> <div class="modal fade edit-modal" data-backdrop="static" data-keyboard="false"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="editCloseButtonClick()"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button> <h4 class="modal-title">Edit</h4> </div> <div class="modal-body" style="height: 600px; overflow: auto"> <form role="form" ng-show="!showChoice"> <div class="form-group" ng-repeat="col in columns"> <div ng-switch="col.inputType"> <div ng-switch-when="choice"> <label for="{{col.key}}">{{col.label}} : <span style="color: #aabbcc">{{editItem[col.key]}}</span></label> <button class="btn btn-primary pull-right" ng-click="chooseButtonClick(col, col.collection)">Choose</button> </div> <div ng-switch-when="text"> <label for="{{col.key}}" ng-show="{{col.label.length}} > 0">{{col.label}}</label> <input type="text" class="form-control" name="{{col.key}}" placeholder="Enter {{col.name}}" ng-model="editItem[col.key]"> </div> <div ng-switch-when="textarea"> <label for="{{col.key}}">{{col.label}}</label> <textarea class="form-control" name="{{col.key}}" ng-model="editItem[col.key]"></textarea> </div> <div ng-switch-when="image"> <label for="{{col.key}}">{{col.label}}</label> <input type="file" class="form-control" name="{{col.key}}" file-read="editItem[col.key]"> </div> <div ng-switch-when="number"> <label for="{{col.key}}">{{col.label}}</label> <input type="number" class="form-control" name="{{col.key}}" placeholder="Enter {{col.name}}" ng-model="editItem[col.key]"> </div> <div ng-switch-when="checkbox"> <label class="checkbox-inline"> <input type="checkbox" name="{{col.key}}" ng-model="editItem[col.key]"> {{col.label}} </label> </div> <div ng-switch-when="rel"> <label for="{{col.key}}">{{col.label}}</label> <select class="form-control" name="{{col.key}}" ng-model="editItem[col.key]" ng-options="item.id as item.name for item in col.collection"></select> </div> </div> </div> </form> <div ng-show="showChoice"> <input type="search" class="form-control" placeholder="Search" ng-change="choiceSearchInputChange()" ng-model="choiceSearchStr"> <table class="table table-striped table-hover"> <thead> <tr> <td ng-repeat="choiceCol in choiceColumns" ng-click="choiceColumnHeaderClick(choiceCol)" style="text-align: left"><button style="padding-left: 0px" type="button" class="btn btn-link pull-left">{{choiceCol.label}}</button> <td>   <tbody> <tr ng-repeat="choiceRow in choiceRows" ng-show="choiceRow.show"> <td ng-repeat="choiceCol in choiceColumns">{{choiceRow[choiceCol.key]}} <td> <button type="button" class="btn pull-right" ng-class="choiceRow.selected ? 'btn-success' : 'btn-warning'" ng-click="selectButtonClick(choiceRow)">{{(choiceRow.selected) ? 'Selected' : 'Select'}}</button>    </table> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-danger" ng-click="deleteButtonClick()" ng-show="!showChoice">Delete</button> <button type="button" class="btn btn-primary" ng-click="updateButtonClick()" ng-show="!showChoice">Update</button> </div> </div><!-- /.modal-content --> </div><!-- /.modal-dialog --> </div><!-- /.modal --> <div class="modal fade read-modal" data-backdrop="static" data-keyboard="false"> <div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="editCloseButtonClick()"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button> <h4 class="modal-title">View</h4> </div> <div class="modal-body"> <form role="form" ng-show="!showChoice"> <div class="form-group" ng-repeat="col in columns"> <div ng-switch="col.inputType"> <div ng-switch-when="choice"> <p>{{col.label}} : <span style="color: #144EEB">{{viewItem[col.key]}}</span></p> </div> <div ng-switch-when="text"> <p>{{col.label}} : <span style="color: #144EEB">{{viewItem[col.key]}}</span></p> </div> <div ng-switch-when="textarea"> <p>{{col.label}} :</p> <br> <span style="color: #144EEB">{{viewItem[col.key]}}</span> </div> <div ng-switch-when="image"> <p>{{col.label}} :</p> <br> <img class="photo-large" ng-src="{{viewItem[col.key]}}"> </div> <div ng-switch-when="number"> <p>{{col.label}} : <span style="color: #144EEB">{{viewItem[col.key]}}</span></p> </div> <div ng-switch-when="checkbox"> <p>{{col.label}} : <span style="color: #144EEB">{{viewItem[col.key]}}</span></p> </div> <div ng-switch-when="rel"> <p>{{col.label}} : <span style="color: #144EEB">{{viewItem[col.key]}}</span></p> <!--
                <label for="{{col.key}}">{{col.label}}</label>
                <select class="form-control" name="{{col.key}}" ng-model="editItem[col.key]" ng-options="item.id as item.name for item in col.collection"></select>
                --> </div> </div> </div> </form> </div><!-- /.modal-content --> </div><!-- /.modal-dialog --> </div><!-- /.modal --></div>